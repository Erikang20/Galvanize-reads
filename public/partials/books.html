<div class="container">

    <h1>Books</h1>

    <!-- button to go back home -->
    <a href="/#/" type="button" class="btn btn-primary">Home</a>

    <!-- button add new book -->
    <a href="#books" class="pull-right btn btn-success" ng-click="hide()" role="button"><i class="fa fa-plus-circle" aria-hidden="true"></i> New Book</a>

    <!-- add books form -->
    <form name="newBooks" ng-if="showMe" class="my-form" action="/" method="POST" novalidate>
        <div class="form-group">

            <label for="title">Title: </label>
            <!-- <span class="error" ng-show="userForm.title.$error.minlength" ng-class="{'has-error': userForm.title.$invalid && !userForm.title.$pristine, 'has-success': userForm.title.$valid}">A Title is Required to be at least 3 characters</span> -->
            <input type="text" class="form-control" name="title" id="title" ng-model="book.title" ng-minlength="3" placeholder="Title" required>

            <label for="author">Author </label>
            <!-- <span class="error" ng-show="userForm.author.$error.required.$touched">An author is Required </span> -->
            <input type="text" class="form-control" name="author" id="author" ng-model="book.author" placeholder="Author" required>

            <label for="img">Image Url </label>
            <!-- <span class="error" ng-show="userForm.img.$error.required.$touched ">Please introduce a valid URL </span> -->
            <input type="url" class="form-control" name="img" id="img" ng-model="book.img" placeholder="Image Url" required>

            <label for="genre">Genre </label>
            <!-- <span class="error" ng-show="userForm.img.$error.required.$touched ">Please introduce a valid URL </span> -->
            <input type="text" class="form-control" name="genre" id="genre" ng-model="book.genre" placeholder="Genre" required>

            <label for="description">Description</label>
            <input type="text" class="form-control" name="description" id="description" ng-model="book.description" ng-minlength="3" ng-maxlength="200" placeholder="Description" required>
            <!-- <span class="error" ng-show="userForm.description.$error.required.$touched">A description is Required </span> -->
            <!-- <span class="error" ng-show="userForm.description.$error.minlength">A description has to be at least 3 characters </span> -->
            <!-- <span class="error" ng-show="userForm.description.$error.maxlength">The description can't be longer than 200 characters </span  -->

            <label for="comments">Comments </label>
            <input type="text" class="form-control" name="comments" id="comments" ng-model="book.comments" placeholder="Comments" required>

            <form action="/books" method="POST">

                <button ng-click="addBook()" class="btn btn-primary" type="submit" ng-disabled="newBooks.$pristine">Submit Post</button>
            </form>

        </div>
    </form>


    <!-- display books -->
    <div class="jumbotron" ng-repeat="book in books | orderBy: 'title'">
        <div class="jumbotron">
            <div class="media">
                <div class="media-heading">
                    <h1><div class="title "><span>{{book.title}} </span></div></h1>

                    <button class="pull-right btn btn-danger" action="/books/?method=DELETE" method="POST"> Delete</button>
                    <button class="pull-right btn btn-info"> Edit</button>

                    <div><span class="pull-right">Author: {{book.author}} </span></div>

                    <div><img class="img-responsive media-object media-left" ng-src="{{book.img}}" alt=""></div>

                    <div class="media-body">
                        <div>
                            <span>{{book.description}}</span>
                        </div>
                        <span><strong>Comments:</strong> {{book.comments}}</span>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
